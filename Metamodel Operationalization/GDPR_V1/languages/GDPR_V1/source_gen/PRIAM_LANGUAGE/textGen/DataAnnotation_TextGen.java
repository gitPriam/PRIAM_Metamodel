package PRIAM_LANGUAGE.textGen;

/*Generated by MPS */

import jetbrains.mps.text.rt.TextGenDescriptorBase;
import jetbrains.mps.text.rt.TextGenContext;
import jetbrains.mps.text.impl.TextGenSupport;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import org.jetbrains.mps.openapi.language.SProperty;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import org.jetbrains.mps.openapi.language.SReferenceLink;
import org.jetbrains.mps.openapi.language.SContainmentLink;

public class DataAnnotation_TextGen extends TextGenDescriptorBase {
  @Override
  public void generateText(final TextGenContext ctx) {
    final TextGenSupport tgs = new TextGenSupport(ctx);
    tgs.append("/* insert data types and data */");
    tgs.newLine();
    for (SNode e : ListSequence.fromList(SLinkOperations.getChildren(ctx.getPrimaryInput(), LINKS.dataType$ZYrm))) {
      tgs.append("insert into DataType(data_type_id, data_type_name) values (");
      tgs.append(SPropertyOperations.getInteger(e, PROPS.dataTypeId$MaxJ) + "");
      tgs.append(", '");
      tgs.append(SPropertyOperations.getString(e, PROPS.name$MnvL));
      tgs.append("');");
      tgs.newLine();
      tgs.newLine();

      for (SNode f : ListSequence.fromList(SLinkOperations.getChildren(e, LINKS.data$keO4))) {
        tgs.append("insert into Data(data_id, data_name, source, source_details, data_conservation_duration, is_personal,");
        tgs.newLine();
        tgs.append("            ");
        tgs.append("is_portable, is_primary_key, data_type_id, personal_data_category_id, data_subject_category_id)");
        tgs.newLine();
        tgs.append("   values (");
        tgs.append(SPropertyOperations.getInteger(f, PROPS.dataId$6Yum) + "");
        tgs.append(", '");
        tgs.append(SPropertyOperations.getString(f, PROPS.name$MnvL));
        tgs.append("', '");
        tgs.append(SPropertyOperations.getEnum(f, PROPS.source$gzQd).toString());
        tgs.append("', '");
        tgs.append(SPropertyOperations.getString(f, PROPS.sourceDetails$g$5e));
        tgs.append("',");
        tgs.append(SPropertyOperations.getString(f, PROPS.dataConservation$guFR) + "");
        tgs.append(",");
        tgs.append(SPropertyOperations.getBoolean(f, PROPS.isPersonal$gtJN) + "");
        tgs.append(",");
        tgs.append(SPropertyOperations.getBoolean(f, PROPS.isPortable$g$kf) + "");
        tgs.append(",");
        tgs.append(SPropertyOperations.getBoolean(f, PROPS.primaryKey$AFhs) + "");
        tgs.append(",");
        tgs.append(SPropertyOperations.getInteger(e, PROPS.dataTypeId$MaxJ) + "");
        tgs.append(",");
        tgs.append(SPropertyOperations.getInteger(SLinkOperations.getTarget(f, LINKS.personalDataCategory$gF7G), PROPS.pdcId$iakn) + "");
        tgs.append(",");
        tgs.append(SPropertyOperations.getInteger(SLinkOperations.getTarget(f, LINKS.dataSubjectCategory$gFmH), PROPS.dataSubjectCategoryId$m11P) + "");
        tgs.append(");");
        tgs.newLine();
        tgs.newLine();
      }


    }
  }

  private static final class PROPS {
    /*package*/ static final SProperty dataTypeId$MaxJ = MetaAdapterFactory.getProperty(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x5309b4b3bd5290L, 0x3c40a36f21039df0L, "dataTypeId");
    /*package*/ static final SProperty name$MnvL = MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name");
    /*package*/ static final SProperty dataId$6Yum = MetaAdapterFactory.getProperty(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x5ed7b73b7b411269L, 0x3f0ad7c4155b8e68L, "dataId");
    /*package*/ static final SProperty source$gzQd = MetaAdapterFactory.getProperty(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x5ed7b73b7b411269L, 0x1f97ffaeb2ce777eL, "source");
    /*package*/ static final SProperty sourceDetails$g$5e = MetaAdapterFactory.getProperty(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x5ed7b73b7b411269L, 0x1f97ffaeb2ce777fL, "sourceDetails");
    /*package*/ static final SProperty dataConservation$guFR = MetaAdapterFactory.getProperty(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x5ed7b73b7b411269L, 0x1f97ffaeb2ce777dL, "dataConservation");
    /*package*/ static final SProperty isPersonal$gtJN = MetaAdapterFactory.getProperty(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x5ed7b73b7b411269L, 0x1f97ffaeb2ce7779L, "isPersonal");
    /*package*/ static final SProperty isPortable$g$kf = MetaAdapterFactory.getProperty(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x5ed7b73b7b411269L, 0x1f97ffaeb2ce7780L, "isPortable");
    /*package*/ static final SProperty primaryKey$AFhs = MetaAdapterFactory.getProperty(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x5ed7b73b7b411269L, 0x3c40a36f20d51f14L, "primaryKey");
    /*package*/ static final SProperty pdcId$iakn = MetaAdapterFactory.getProperty(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x6224fff6288f34a4L, 0x6224fff6288f34a6L, "pdcId");
    /*package*/ static final SProperty dataSubjectCategoryId$m11P = MetaAdapterFactory.getProperty(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x507d8789e725b2fdL, 0x2a509229fff45202L, "dataSubjectCategoryId");
  }

  private static final class LINKS {
    /*package*/ static final SReferenceLink personalDataCategory$gF7G = MetaAdapterFactory.getReferenceLink(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x5ed7b73b7b411269L, 0x1f97ffaeb2ce7788L, "personalDataCategory");
    /*package*/ static final SReferenceLink dataSubjectCategory$gFmH = MetaAdapterFactory.getReferenceLink(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x5ed7b73b7b411269L, 0x1f97ffaeb2ce7789L, "dataSubjectCategory");
    /*package*/ static final SContainmentLink data$keO4 = MetaAdapterFactory.getContainmentLink(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x5309b4b3bd5290L, 0x1f97ffaeb2ce7798L, "data");
    /*package*/ static final SContainmentLink dataType$ZYrm = MetaAdapterFactory.getContainmentLink(0xe02dfeab630f4f6dL, 0x86a8a0833a3f70fcL, 0x3af6325cd45a5aa2L, 0x3af6325cd45a5aa3L, "dataType");
  }
}
